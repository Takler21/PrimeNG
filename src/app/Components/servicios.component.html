
<p-table [columns]="cols" [value]="servicios.servicios">
    <ng-template pTemplate="header" let-columns>
        <tr>
            <th *ngFor="let col of columns">
                {{col.header}}
            </th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-service let-columns="columns">
        <tr>
            <td *ngFor="let col of columns">
                {{service[col.field]}}
            </td>
            <td>
                <p-button aria-hidden="true" icon="fa fas fa-trash-alt" (click)="delete(service)"></p-button>
                &nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;
                <!--<i class="fa fas fa-edit" aria-hidden="true" (click)="edit(emp)"></i>-->
                <p-button aria-hidden="true" icon="fa fas fa-edit" (click)="edit(service)"></p-button>
            </td>
        </tr>
    </ng-template>
</p-table>
<div class="text-right">
    <p-button label="Añadir" icon="fa fa-plus" iconPos="left" (click)="masServicios()"></p-button>
</div>

<p-dialog [header]="tServ" [(visible)]="display3" >
    <form [formGroup]="form1" (ngSubmit)="submit1()" class="p-3 bg-faded">
        <div class="form-group row">
            <label for="id" class="ui-g-12 ui-md-3"><strong>Id</strong></label>
            <div class="ui-g-12 ui-md-9">
                <input *ngIf="!servicio" id="id" type="number" class="form-control" formControlName="Id" />
                <span *ngIf="servicio"><strong>{{form1.value.Id}}</strong></span>
            </div>
        </div>
        <div class="form-group row">
            <label for="nombre" class="ui-g-12 ui-md-3"><strong>Nombre</strong></label>
            <div class="ui-g-12 ui-md-9">
                <input id="nombre" type="text" class="form-control" formControlName="Nombre" />
            </div>
        </div>
        <div class="form-group row">
            <label for="centroCoste" class="ui-g-12 ui-md-3"><strong>Centro Coste</strong></label>
            <div class="ui-g-12 ui-md-9">
                <input id="centroCoste" type="text" class="form-control" formControlName="CentroCoste" />
            </div>
        </div>
        <div class="text-right">
            <p-button *ngIf="servicio" type="button" styleClass="ui-button-info" icon="fas fa-save" label="Administrar roles" (click)="adRols()"></p-button>
        </div>
        <div class="text-right">
            <p-button type="submit" styleClass="ui-button-success" icon="fas fa-save" label="Save" [disabled]="!form1.valid"></p-button>
        </div>
    </form>
</p-dialog>

<p-dialog header="Roles del servicio" [(visible)]="display">
    <!-- [blockScroll]="true"-->

    <!--<p>esto es una maldita prueba.</p>
    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed eiusmod tempor incidunt ut labore et dolore magna aliqua. 
    Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquid ex ea commodi consequat. 
    Quis aute iure reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. 
    Excepteur sint obcaecat cupiditat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>-->
    <p-table [columns]="colsR" [value]="rols" [autoLayout]="true">
        <ng-template pTemplate="header" let-columns>
            <tr>
                <th *ngFor="let col of columns">
                    {{col.header}}
                </th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-rol let-columns="columns" let-rowIndex="rowIndex">
            <tr>
                <td *ngFor="let col of columns">
                    {{rol}}
                </td>
                <td>
                    <p-button aria-hidden="true" icon="fa fas fa-trash-alt" (click)="deleteRol(rol)"></p-button>
                </td>
            </tr>
        </ng-template>
    </p-table>

    <div class="text-right">
        <p-button label="Añadir" icon="fa fa-plus" iconPos="left" (click)="showDialog2()"></p-button>
    </div>
    <!--El que el dialog este anidado dentro de otro da problemillas-->
    <p-dialog header="Nuevo Rol" [(visible)]="display2">
        <form [formGroup]="form" (ngSubmit)="submit()" class="p-3 bg-faded">
            <div class="form-group row">
                <label for="id" class="ui-g-12 ui-md-2"><strong>Id</strong></label>
                <div class="ui-g-12 ui-md-10">
                    <input id="id" type="text" class="form-control" formControlName="id" />
                </div>
            </div>

            <div class="text-right">
                <p-button type="submit" styleClass="ui-button-success" icon="fas fa-save" label="Save" [disabled]="!form.valid"></p-button>
            </div>
        </form>
    </p-dialog>

</p-dialog>